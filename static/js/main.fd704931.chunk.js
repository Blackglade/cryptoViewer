(this.webpackJsonpcryptoViewer=this.webpackJsonpcryptoViewer||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(19),c=n.n(a),s=n(17),o=n.n(s),l=n(20),d=n(38);var u,h,p,x,g=n(24),b=n(13),j=n(14),f=n(18),v=n(3);function m(e){return e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0,0,0),e}function y(e){var t=e.width,n=e.height,i=e.data,a=e.up,c=e.interactive,s=Object(r.useRef)(null),o=Object(r.useRef)(null),l=[];var d=function(e){for(var t=function(e,t){var n=s.current.getBoundingClientRect();return{x:e-n.x,y:t-n.y}}(e.clientX,e.clientY),n=o.current,r=n.getContext("2d"),i=!1,a=0;a<l.length;a++){var c=l[a];if(Math.abs(t.x-c.x)+Math.abs(t.y-c.y)<25){n.style.display="block",r.font="10px Lato",n.style.left=c.x+"px",n.style.top=c.y+15+"px",r.fillStyle="white",r.clearRect(0,0,n.width,n.height),r.fillText("$"+c.data.price.toFixed(2),5,15);var d=new Date(c.data.time),u=d.toLocaleString("default",{month:"short"})+" "+d.getDate()+", "+d.getHours()+":00";r.fillText(u,5,30),i=!0;break}}i||(n.style.display="none")};return Object(r.useEffect)((function(){!function(e,t){var n=s.current.getContext("2d"),r=s.current.height,i=s.current.width,a=Math.max.apply(Math,Object(f.a)(e)),o=Math.min.apply(Math,Object(f.a)(e)),d=i/e.length,u=0,h=r,p=168;if(c){var x=m(new Date);x.setHours(x.getHours()-p),l.push([{x:u,y:h,price:e[0],date:x}]),p-=12}window.devicePixelRatio&&(s.current.width=s.current.width*window.devicePixelRatio,s.current.height=s.current.height*window.devicePixelRatio,s.current.style.width=s.current.width/window.devicePixelRatio+"px",s.current.style.height=s.current.height/window.devicePixelRatio+"px",s.current.style.display="inline-block",n.scale(window.devicePixelRatio,window.devicePixelRatio)),n.clearRect(0,0,i,r),n.beginPath(),n.strokeStyle=t?"rgb(46, 174, 52)":"rgb(249, 103, 45)",n.moveTo(u,h);for(var g=1;g<e.length;g++)if(u+=d,h=r-(e[g]-o)/(a-o)*r,n.lineTo(u,h),c){var b=m(new Date);b.setHours(b.getHours()-p),p-=12,l.push({x:u,y:h,data:{price:e[g],time:b}})}n.stroke(),c&&l.forEach((function(e){n.beginPath(),n.fillStyle=t?"rgba(46, 174, 52, 0.8)":"rgba(249, 103, 45, 0.8)",n.arc(e.x,e.y,5,0,2*Math.PI),n.fill()}))}(i,a)}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("canvas",{onMouseMove:function(e){return c&&d(e)},style:{background:c&&"rgb(38, 53, 67)",marginTop:c&&"-4px",zIndex:"1"},ref:s,width:t,height:n,children:"Your browser does not support the HTML5 canvas tag."}),c&&Object(v.jsx)("canvas",{style:{background:"rgb(18, 29, 39)",display:"none",zIndex:"2",position:"absolute"},ref:o,width:"75",height:"40",children:"Your browser does not support the HTML5 canvas tag."})]})}var w=j.a.div(u||(u=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 45px;\n    margin-bottom: 4px;\n    padding: 4px 10px;\n    background: ",";\n    cursor: pointer;\n\n    img { \n        width: 1.5rem; \n        margin-right: 8px;\n    }\n\n    &:hover {\n        background: rgb(38, 53, 67);\n    }\n"])),(function(e){return e.clicked?"rgb(38, 53, 67)":"rgb(18, 29, 39)"})),O=j.a.div(h||(h=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    width: 135px;\n"]))),k=j.a.div(p||(p=Object(b.a)(["\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column;\n    width: 120px;\n    text-align: right;\n"]))),M=j.a.div(x||(x=Object(b.a)(["\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column;\n    width: 95px;\n"]))),T=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;)t.push(e[n]),n+=12;return t};function S(e){var t=e.name,n=e.symbol,i=e.supply,a=e.image,c=e.price,s=e.change,o=e.sparkline,l=Object(r.useState)(!1),d=Object(g.a)(l,2),u=d[0],h=d[1];return Object(v.jsxs)("section",{style:{position:"relative"},children:[Object(v.jsxs)(w,{onClick:function(){return h(!u)},clicked:u,children:[Object(v.jsxs)(O,{children:[Object(v.jsx)("img",{src:a,alt:t}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(v.jsxs)("span",{className:"productText",children:[n.toUpperCase(),"-USD"]}),Object(v.jsx)("span",{className:"nameText",children:t})]})]}),Object(v.jsx)("div",{style:{width:"60px",height:"20px"},children:Object(v.jsx)(y,{width:"60px",height:"20px",data:o,up:s>0,interactive:!1})}),Object(v.jsxs)(k,{children:[Object(v.jsxs)("span",{className:"productText",style:{fontWeight:"normal",textTransform:"inherit",whiteSpace:"nowrap"},children:[Math.round(i)+" ",n.toUpperCase()]}),Object(v.jsx)("span",{className:"nameText",style:{fontSize:"11px",color:"rgba(138, 147, 159, 0.4)"},children:"Total Supply"})]}),Object(v.jsxs)(M,{children:[Object(v.jsxs)("span",{className:"productText",style:{fontWeight:"normal",textTransform:"inherit",whiteSpace:"nowrap"},children:["$",c]}),Object(v.jsxs)("span",{className:"nameText",style:{fontSize:"11px",color:s>0?"rgb(46, 174, 52)":"rgb(249, 103, 45)",whiteSpace:"nowrap",textTransform:"inherit"},children:[s>0&&"+",s,"%"]})]})]}),u&&Object(v.jsx)(y,{width:"500px",height:"175px",data:T(o),up:s>0,interactive:!0})]})}function P(){var e=Object(d.a)("cards",function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,r=void 0===n?1:n,e.next=3,fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=30&sparkline=true&page="+r);case 3:return i=e.sent,e.abrupt("return",i.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{getNextPageParam:function(e,t){return t.length+1},refetchInterval:15e3}),t=e.isSuccess,n=e.data,a=e.fetchNextPage,c=i.a.useRef();return function(e){var t=e.root,n=e.target,i=e.onIntersect,a=e.threshold,c=void 0===a?1:a,s=e.rootMargin,o=void 0===s?"0px":s,l=e.enabled,d=void 0===l||l;Object(r.useEffect)((function(){if(d){var e=new IntersectionObserver((function(e){return e.forEach((function(e){return e.isIntersecting&&i()}))}),{root:t&&t.current,rootMargin:o,threshold:c}),r=n&&n.current;if(r)return e.observe(r),function(){e.unobserve(r)}}}),[n.current,d])}({target:c,onIntersect:a}),Object(v.jsxs)("div",{style:{margin:"1rem"},children:[Object(v.jsx)("h1",{children:"USD Markets \ud83d\udcc8\ud83d\udcc9\ud83d\udd25\ud83d\ude80"}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"500px",overflowY:"auto",height:"600px"},children:[t&&n.pages.map((function(e,t){return Object(v.jsx)(i.a.Fragment,{children:e.map((function(e){return Object(v.jsx)(S,{name:e.name,symbol:e.symbol,image:e.image,price:e.current_price,change:Math.round(100*e.price_change_percentage_24h)/100,sparkline:e.sparkline_in_7d.price,supply:e.circulating_supply},e.id)}))},t)})),Object(v.jsxs)("div",{ref:c,className:"lds-ellipsis",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})]})]})}var R=n(39),_=n(22),I=n(23),D=(n(36),new R.a);c.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsxs)(_.a,{client:D,children:[Object(v.jsx)(P,{}),Object(v.jsx)(I.ReactQueryDevtools,{initialIsOpen:!1})]})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.fd704931.chunk.js.map